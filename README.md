## widgetbook_coverage_cli

![coverage][coverage_badge]
[![style: very good analysis][very_good_analysis_badge]][very_good_analysis_link]
[![License: MIT][license_badge]][license_link]

Generated by the [Very Good CLI][very_good_cli_link] ðŸ¤–

A Very Good Project created by Very Good CLI..

---

## Getting Started ðŸš€

If the CLI application is available on [pub](https://pub.dev), activate globally via:

```sh
dart pub global activate widgetbook_coverage_cli
```

Or locally via:

```sh
dart pub global activate --source=path <path to this package>
```

## During development

Run the following command to update the CLI after making changes:

```sh
dart run widgetbook_coverage_cli <subcommand>
```

## Usage Hello World

```sh
# Sample command
$ widgetbook_coverage_cli sample

# Sample command option
$ widgetbook_coverage_cli sample --cyan

# Show CLI version
$ widgetbook_coverage_cli --version

# Show usage help
$ widgetbook_coverage_cli --help
```

## Usage Coverage Command

Run the coverage command for a Flutter project with the following command:

```sh
$ widgetbook_coverage_cli coverage
```

If no option is specified then current directory is uses.

## Usage Coverage Command with options

If you have a monorepo and you have seperated your widgetbook code from the main flutter project, you can specify
the root directory of the flutter project and the widgetbook project using the following command:

```sh
$ widgetbook_coverage_cli coverage
--flutter_project=<path to root of flutter app>
--widgetbook_project=<path to root of widgetbook app>
--widgets_target=<path to folder containing widgets to be analyzed>
--widgetbook_usecases_target=<path to folder containing widgetbook use cases to be analyzed>
```

Here is an example of a valid command:

```sh
dart run widgetbook_coverage_cli coverage
--flutter_project="monorepo_test_project/apps/app1"
--widgetbook_project="monorepo_test_project/examples/app1_widgetbook"
--widgets_target="monorepo_test_project/apps/app1/lib/specific/widgetsfolder"
--widgetbook_usecases_target="monorepo_test_project/examples/app1_widgetbook/specific/usecasesfolder"
```

## Running Tests with coverage ðŸ§ª

To run all unit tests use the following command:

```sh
$ dart pub global activate coverage 1.2.0
$ dart test --coverage=coverage
$ dart pub global run coverage:format_coverage --lcov --in=coverage --out=coverage/lcov.info
```

To view the generated coverage report you can use [lcov](https://github.com/linux-test-project/lcov)
.

```sh
# Generate Coverage Report
$ genhtml coverage/lcov.info -o coverage/

# Open Coverage Report
$ open coverage/index.html
```

---

[coverage_badge]: coverage_badge.svg
[license_badge]: https://img.shields.io/badge/license-MIT-blue.svg
[license_link]: https://opensource.org/licenses/MIT
[very_good_analysis_badge]: https://img.shields.io/badge/style-very_good_analysis-B22C89.svg
[very_good_analysis_link]: https://pub.dev/packages/very_good_analysis
[very_good_cli_link]: https://github.com/VeryGoodOpenSource/very_good_cli
